schema: '2.0'
stages:
  data_load:
    cmd: python src/stages/data_load.py --config=params.yaml
    deps:
    - path: src/stages/data_load.py
      md5: 95579e9f4e4f9ae6c162950e848ff309
      size: 1028
    params:
      params.yaml:
        base:
          seed: 35
        data_load:
          data_raw_csv_path: data/raw/iris.csv
    outs:
    - path: data/raw/iris.csv
      md5: 63ac94d1ac28399277541bd372d3bea4
      size: 5127
  featurize:
    cmd: python src/stages/featurize.py --config=params.yaml
    deps:
    - path: data/raw/iris.csv
      md5: 63ac94d1ac28399277541bd372d3bea4
      size: 5127
    - path: src/stages/featurize.py
      md5: d8c05663413f108c66961ce5cfd0c558
      size: 1742
    params:
      params.yaml:
        base:
          seed: 35
        featurize:
          data_train_csv_path: data/train/iris_train.csv
          data_test_csv_path: data/test/iris_test.csv
    outs:
    - path: data/test/iris_test.csv
      md5: 105e8866605519b46e8b374f8e75b4dc
      size: 1224
    - path: data/train/iris_train.csv
      md5: aec5733aa3de622bfb35e6246cff2eb9
      size: 1224
  train:
    cmd: python src/stages/train.py --config=params.yaml
    deps:
    - path: data/test/iris_test.csv
      md5: 105e8866605519b46e8b374f8e75b4dc
      size: 1224
    - path: data/train/iris_train.csv
      md5: aec5733aa3de622bfb35e6246cff2eb9
      size: 1224
    - path: src/stages/train.py
      md5: 1c4c69fa874974ffcdd41fb85e843c99
      size: 1076
    params:
      params.yaml:
        base:
          seed: 35
        featurize:
          data_train_csv_path: data/train/iris_train.csv
          data_test_csv_path: data/test/iris_test.csv
        train:
          penalty: l2
          solver: sag
          logistic_regression_path: models/logistic_regression.pkl
    outs:
    - path: models/logistic_regression.pkl
      md5: d109c62e89a06ec8807540b9a8eb2c88
      size: 745
  evaluate:
    cmd: python src/stages/evaluate.py --config=params.yaml
    deps:
    - path: data/test/iris_test.csv
      md5: 105e8866605519b46e8b374f8e75b4dc
      size: 1224
    - path: data/train/iris_train.csv
      md5: aec5733aa3de622bfb35e6246cff2eb9
      size: 1224
    - path: models/logistic_regression.pkl
      md5: d109c62e89a06ec8807540b9a8eb2c88
      size: 745
    - path: src/stages/evaluate.py
      md5: 20304fbf147491e0dd6f35d664944cdb
      size: 1837
    params:
      params.yaml:
        base:
          seed: 35
        evaluate:
          metrics_path: reports/metrics/logistic_regression/metrics.json
        train:
          penalty: l2
          solver: sag
          logistic_regression_path: models/logistic_regression.pkl
    outs:
    - path: reports/metrics/logistic_regression/metrics.json
      md5: f41fb954409f7790511f66cb5d195adb
      size: 85
