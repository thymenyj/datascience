schema: '2.0'
stages:
  data_load:
    cmd: python src/stages/data_load.py --config=params.yaml
    deps:
    - path: src/stages/data_load.py
      md5: 95579e9f4e4f9ae6c162950e848ff309
      size: 1028
    params:
      params.yaml:
        data_load:
          data_raw_csv_path: data/raw/iris.csv
    outs:
    - path: data/raw/iris.csv
      md5: 63ac94d1ac28399277541bd372d3bea4
      size: 5127
  featurize:
    cmd: python src/stages/featurize.py --config=params.yaml
    deps:
    - path: data/raw/iris.csv
      md5: 63ac94d1ac28399277541bd372d3bea4
      size: 5127
    - path: src/stages/featurize.py
      md5: d8c05663413f108c66961ce5cfd0c558
      size: 1742
    params:
      params.yaml:
        featurize:
          data_train_csv_path: data/train/iris_train.csv
          data_test_csv_path: data/test/iris_test.csv
    outs:
    - path: data/test/iris_test.csv
      md5: 0cea05f8ba14eb4f9f24e0c5641b348b
      size: 1224
    - path: data/train/iris_train.csv
      md5: 503740586072a5b54909739f347631d3
      size: 1224
  train:
    cmd: python src/stages/train.py --config=params.yaml
    deps:
    - path: data/test/iris_test.csv
      md5: 0cea05f8ba14eb4f9f24e0c5641b348b
      size: 1224
    - path: data/train/iris_train.csv
      md5: 503740586072a5b54909739f347631d3
      size: 1224
    - path: src/stages/train.py
      md5: 1c4c69fa874974ffcdd41fb85e843c99
      size: 1076
    params:
      params.yaml:
        featurize:
          data_train_csv_path: data/train/iris_train.csv
          data_test_csv_path: data/test/iris_test.csv
        train:
          penalty: l2
          solver: sag
          logistic_regression_path: models/logistic_regression.pkl
    outs:
    - path: models/logistic_regression.pkl
      md5: eb7f274403b8f42a328f1997ac19d0f6
      size: 745
  evaluate:
    cmd: python src/stages/evaluate.py --config=params.yaml
    deps:
    - path: data/test/iris_test.csv
      md5: 0cea05f8ba14eb4f9f24e0c5641b348b
      size: 1224
    - path: data/train/iris_train.csv
      md5: 503740586072a5b54909739f347631d3
      size: 1224
    - path: models/logistic_regression.pkl
      md5: eb7f274403b8f42a328f1997ac19d0f6
      size: 745
    - path: src/stages/evaluate.py
      md5: 20304fbf147491e0dd6f35d664944cdb
      size: 1837
    params:
      params.yaml:
        evaluate:
          metrics_path: reports/metrics/logistic_regression/metrics.json
        train:
          penalty: l2
          solver: sag
          logistic_regression_path: models/logistic_regression.pkl
    outs:
    - path: reports/metrics/logistic_regression/metrics.json
      md5: ecd3c6cfdc241443732ac51520a4de19
      size: 85
